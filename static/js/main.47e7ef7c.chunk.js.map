{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","services/api.js","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","this","className","s","Searchbar","SearchForm","type","SearchFormButton","autoClose","SearchFormInput","autoComplete","name","autoFocus","placeholder","onChange","Component","ImageGalleryItem","modalContent","id","onItemClick","console","log","webformatURL","largeImageURL","tags","src","alt","ImageGalleryItemImage","onClick","ImageGallery","handleOpenModal","target","images","map","image","Modal","handleKeyDown","code","onBackdrop","handleBackdropClick","window","addEventListener","removeEventListener","content","Overlay","Button","onPress","Spinner","color","height","width","axios","defaults","baseURL","params","key","image_type","orientation","per_page","fetchImages","page","a","get","q","data","error","App","visibleImages","isLoading","openModal","toggleModal","toggleLoading","handleChangeQuery","query","handleNextPage","handleScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","modalContentSet","itemId","element","find","getData","hits","prevProps","isNotLastPage","length","btnEnable","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.47e7ef7c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Xv1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__sZ2tb\",\"Modal\":\"Modal_Modal__1gMrb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3THpx\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__BfzPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1weoQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__36IMe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__20TzL\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.searchQuery.trim() === '') {\r\n      toast('Enter your query!');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <ImSearch />\r\n          </button>\r\n          <ToastContainer autoClose={2000} />\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"searchQuery\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            value={searchQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  modalContent = id => {\r\n    this.props.onItemClick(id);\r\n    console.log(id);\r\n  };\r\n  render() {\r\n    const { id, webformatURL, largeImageURL, tags } = this.props;\r\n    return (\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-src={largeImageURL}\r\n        className={s.ImageGalleryItemImage}\r\n        onClick={() => this.modalContent(id)}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  onItemClick: PropTypes.func.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport React, { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends Component {\r\n  handleOpenModal = e => {\r\n    if (e.target !== e.currentTarget) {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { images, onItemClick } = this.props;\r\n    return (\r\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\r\n        {images &&\r\n          images.map(image => (\r\n            <li key={image.id} className={s.ImageGalleryItem}>\r\n              <ImageGalleryItem {...image} onItemClick={onItemClick} />\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  onItemClick: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onBackdrop();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onBackdrop();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { content, tags } = this.props;\r\n    console.log(content);\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={content} alt={tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onBackdrop: PropTypes.func.isRequired,\r\n  content: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onPress }) => (\r\n  <button type=\"button\" onClick={onPress} className={s.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onPress: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nconst Spinner = () => (\r\n  <div className={s.Spinner}>\r\n    <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\naxios.defaults.params = {\r\n  key: '24006178-a076599a61b558ce501b87587',\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  per_page: 12,\r\n};\r\n\r\nconst fetchImages = async (searchQuery, page) => {\r\n  try {\r\n    const { data } = await axios.get('', {\r\n      params: { q: searchQuery, page },\r\n    });\r\n\r\n    return data;\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\nexport default fetchImages;\r\n","import React, { Component } from 'react';\r\nimport SearchBar from '../Searchbar';\r\nimport ImageGallery from '../ImageGallery';\r\nimport Modal from '../Modal';\r\nimport Button from '../Button';\r\nimport Loader from '../Loader';\r\nimport fetchImages from '../../services/api';\r\nimport s from './App.module.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    modalContent: '',\r\n    searchQuery: '',\r\n    page: 1,\r\n    visibleImages: [],\r\n    isLoading: false,\r\n    openModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, { searchQuery, page }) {\r\n    if (searchQuery !== this.state.searchQuery || page !== this.state.page) {\r\n      this.getData();\r\n    }\r\n    this.handleScroll();\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ openModal }) => ({ openModal: !openModal }));\r\n  };\r\n\r\n  toggleLoading = () => {\r\n    this.setState(({ isLoading }) => ({ isLoading: !isLoading }));\r\n  };\r\n\r\n  handleChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      page: 1,\r\n      visibleImages: [],\r\n    });\r\n  };\r\n\r\n  handleNextPage = () => {\r\n    this.setState(({ page }) => {\r\n      return {\r\n        page: page + 1,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  modalContentSet = itemId => {\r\n    const { visibleImages } = this.state;\r\n    const element = visibleImages.find(({ id }) => id === itemId);\r\n    this.setState({ modalContent: element.largeImageURL });\r\n  };\r\n\r\n  getData = async () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.toggleLoading();\r\n\r\n    try {\r\n      const data = await fetchImages(searchQuery, page);\r\n      this.setState(({ visibleImages }) => {\r\n        return { visibleImages: [...visibleImages, ...data.hits] };\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    } finally {\r\n      this.toggleLoading();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { visibleImages, openModal, modalContent, isLoading, page } =\r\n      this.state;\r\n    const isNotLastPage = visibleImages.length / page === 12;\r\n    const btnEnable = visibleImages.length > 0 && !isLoading && isNotLastPage;\r\n    return (\r\n      <div className={s.App}>\r\n        <SearchBar onSubmit={this.handleChangeQuery} />\r\n        <>\r\n          <ImageGallery\r\n            images={visibleImages}\r\n            onClick={this.toggleModal}\r\n            onItemClick={this.modalContentSet}\r\n          />\r\n\r\n          {openModal && (\r\n            <Modal content={modalContent} onBackdrop={this.toggleModal} />\r\n          )}\r\n          {isLoading && <Loader />}\r\n\r\n          {btnEnable && (\r\n            <Button name=\"Load more\" onPress={this.handleNextPage} />\r\n          )}\r\n        </>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1qG9O\",\"SearchForm\":\"Searchbar_SearchForm__3AlMX\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2hWVI\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Zjwo\",\"SearchFormInput\":\"Searchbar_SearchFormInput__t7Ml_\"};"],"sourceRoot":""}